#: import SlideTransition kivy.uix.screenmanager.SlideTransition
#: import get_color_from_hex kivy.utils.get_color_from_hex
#: import MapView kivy_garden.mapview.MapView
#: import MeileColors typedef.konstants.MeileColors

WindowManager:

<PreLoadWindow>:
    name: "preload"
    status_text: "Loading..."
    title: app.title
   
    MDFloatLayout:
        md_bg_color: 0,0,0,1
    
        Image:
            source: root.get_logo()
            size_hint: 1, None
            size: 500, 500
            pos_hint: {"x": 0, "y": .275}
            # size: self.texture_size[0] / 2, self.texture_size[1] / 2
            # opacity: 0.1
        
        MDLabel:
            id: status_label
            bold: True
            text: root.status_text
            color: 1,1,1,1
            halign: "center"
            pos_hint: {"center_x" : .5, "y" : -.3}
        
        MDProgressBar:
            id: pb
            value: 0.01
            min: 0
            max: 1
            #color: get_color_from_hex(MeileColors.MEILE)
            color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {'center_x' : .5, "y" : .275}
            size_hint_x: .5

<MainWindow>:
    name: "main"
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: get_color_from_hex("#121212")
        MDFloatLayout:
            size_hint_y: .1
                
            Image:
                source: root.get_logo()
                size_hint: None, None
                height: sp(50)
                pos_hint: {'x' : .0001, 'center_y' : .5}
            Image:
                source: root.get_logo_text()
                size_hint_y: .6
                size_hint_x: .6
                pos_hint: {'x' : -.15, 'center_y' : .5}
            ToolTipMDIconButton:
                id: doh
                opacity: 0
                tooltip_text: "DNS-over-HTTPS"
                icon: "circle-slice-8"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.INDICATOR)
                on_release: root.menu_open()
                pos_hint: {'x' : .90, 'center_y' : .5}
            ToolTipMDIconButton:
                id: settings_menu
                tooltip_text: "Menu"
                icon: "menu"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                on_release: root.menu_open()
                pos_hint: {'x' : .95, 'center_y' : .5}
        
        MDBoxLayout:
            id: country_map
            orientation: "horizontal"
            MDBoxLayout:
                orientation: "vertical"
                size_hint: (.25, 1)
                MDFloatLayout:
                    size_hint: None,.175
                    TooltipMDFlatButton:
                        #tooltip_text: "Connect to Node"
                        #md_bg_color: get_color_from_hex("#121212")
                        pos_hint: {'x' : .4, 'y': .6}
                        on_release: root.connect_routine()
                        opacity: 1
                        Image:
                            id: connect_button
                            size_hint: 3,3
                            source: root.return_connect_button("c")
                            
                            
                    MDTextField:
                        opacity: 1
                        id: search_box
                        hint_text: "key: , value:"
                        icon_right: "magnify"
                        pos_hint: {'x' : .1, 'y': 0}
                        size_hint_x: 1.9
                        size_hint_y: .6
                        font_size: sp(12)
                        on_text_validate: root.on_enter_search()
                                        
                    ToolTipMDIconButton:
                        tooltip_text: "Clear"
                        pos_hint: {'x' : 2.1, 'y': .145}
                        on_release: root.restore_results()
                        icon: "restore"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                NodeRV:
                    md_bg_color: get_color_from_hex("#121212")    
                    id: rv
                    size_hint: (1,1)
                MDBoxLayout:    
                    size_hint: (1,None)
                    height: 50
                    spacing: 6
                    
                    ToolTipMDIconButton:
                        tooltip_text: "Wallet"
                        icon: "wallet-outline"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                        on_release: root.build_wallet_interface()
    
                    ToolTipMDIconButton:
                        tooltip_text: "Subscriptions"
                        icon: "book-open-outline"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                        on_release: root.switch_to_sub_window()
                        
                    ToolTipMDIconButton:
                        tooltip_text: "Plans"
                        icon: "ballot-outline"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                        on_release: root.switch_to_plan_window()
                        
                    ToolTipMDIconButton:
                        tooltip_text: "Settings"
                        icon: "cog-outline"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                        on_release: root.build_settings_screen_interface()
    
                    ToolTipMDIconButton:
                        tooltip_text: "Help"
                        icon: "help-circle-outline"
                        theme_text_color: "Custom"
                        text_color: get_color_from_hex(MeileColors.MEILE)
                        on_release: root.build_help_screen_interface()
                
    
<TooltipMDRaisedButton@MDRaisedButton+MDTooltip>
<TooltipMDFlatButton@MDFlatButton+MDTooltip>
<ToolTipMDIconButton@MDIconButton+MDTooltip>

<MapCenterButton@MDIconButton+MDTooltip>    
    pos_hint: {"x" : .015, "center_y": .975}
    tooltip_text: "Center"
    icon: "image-filter-center-focus"
    theme_text_color: "Custom"
    text_color: get_color_from_hex(MeileColors.MEILE)

<ProtectedLabel@MDLabel>
    id: protected
    font_size: sp(26)
    pos_hint: {"x" : .4, "center_y": .975}                
    opacity: .75
    font_style: "H6"
    text: "UNPROTECTED"
    theme_text_color: "Custom"
    text_color: get_color_from_hex(MeileColors.MEILE)
    font_name: root.get_font()
    
    

<IPAddressTextField@MDTextField>
    id: new_ip
    size_hint_x: .15
    size_hint_y: .05
    pos_hint: {"x" : 0.01, "center_y": .1}                
    readonly: True
    opacity: .5
    mode: "round"
    text: "0.0.0.0"
    font_size: sp(12)
    icon_left: "ip-network-outline"
    text_color_focus: '#fcb711'
    text_color_normal: '#fcb711'
    #hint_text: 'IP Address:'
    #fill_color_normal: get_color_from_hex("#121212")
    #fill_color_focus: get_color_from_hex("#000000")  
    #fill_color_normal: 0,0,0,0
    #fill_color_focus: 0,0,0,0
    
<ConnectedNode@MDTextField>
    id: connected_node
    mode: "round"
    size_hint_x: .4
    size_hint_y: .05
    font_size: sp(14)      
    pos_hint: {"x" : .18, "center_y": .1}                
    readonly: True
    opacity: .5
    icon_left: "laptop"
    text_color_focus: '#fcb711'
    text_color_normal: '#fcb711'                
    #hint_text_color_normal: '#fcb711'
    #hint_text_color_focus: '#fcb711'
    #fill_color_normal: get_color_from_hex("#121212")
    #fill_color_focus: get_color_from_hex("#000000")

<BandwidthLabel@MDLabel>    
    text: "Bandwidth"
    font_size: sp(11)
    theme_text_color: "Custom"
    text_color: get_color_from_hex(MeileColors.MEILE)
    pos_hint: {"x" : .01, "center_y": .035}

<BandwidthBar@MDProgressBar>
    id: quota
    value: 0
    color: app.theme_cls.primary_color
    back_color: 0,0,0,.3
    pos_hint: {"x" : .1, "center_y" : .035 }
    size_hint_x: .45
    size_hint_y: None
    height:sp(4)                                   
    canvas:

        Color: 
            rgba: 0,0,0,.3
        BorderImage:
            border: (sp(4), sp(4), sp(4), sp(4))
            pos: self.x, self.center_y - sp(2)
            size: self.width, sp(4)
        Color:
            rgba: get_color_from_hex(MeileColors.MEILE)                        
        BorderImage:
            border: [int(min(self.width * (self.value / float(self.max)) if self.max else 0, sp(4)))] * 4
            pos: self.x, self.center_y -sp(2)
            size: self.width * (self.value / float(self.max)) if self.max else 0, sp(4)
    
<QuotaPct@MDLabel>
    id: quota_pct
    text: "0.00%"
    font_size: 11
    theme_text_color: "Custom"
    text_color: get_color_from_hex(MeileColors.MEILE)
    pos_hint: {"x" : .57, "center_y": .035}
    
          

<WalletScreen>:
    name: "wallet"
    wallet_name: ""
    address_qrcode: ""
    sentinel_logo: root.return_coin_logo("dvpn")
    secret_logo: root.return_coin_logo("scrt")
    osmosis_logo: root.return_coin_logo("osmo")
    cosmos_logo: root.return_coin_logo("atom")
    decentr_logo: root.return_coin_logo("dec")
    dec_text: ""
    scrt_text: " "
    atom_text: " "
    dvpn_text: " "
    osmo_text: " "
    wallet_address: ""
    qr_address: root.get_qr_code_address()
    md_bg_color: get_color_from_hex("#121212")
    
    canvas.before:
        Color:
            rgba: 0.07, 0.07, 0.07, 1  # This corresponds to #121212 in hex (RGB values divided by 255)
        Rectangle:
            pos: self.pos
            size: self.size
            
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            id: toolbar
            title: "Wallet"
            md_bg_color: get_color_from_hex("#FFB908")
            padding: 0,20,0,0
            
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_x: None
                width: self.parent.width - sp(96)  # Adjust to leave space for left and right actions
                pos_hint: {'center_x': 0.5}
                MDLabel:
                    size_hint_x: None
                    width: (self.parent.width - sp(400) - sp(96)) / 2
                
                MDTextField:
                    hint_text: "Address"
                    mode: "fill"
                    size_hint_x: None
                    width: sp(400) 
                    #pos_hint: {"center_x" : .5, "center_y": .5}
                    pos_hint: {'center_y': 0.5}                
                    text: root.wallet_address
                    readonly: True
                    opacity: 1
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex("#000000")
                    normal_color: app.theme_cls.accent_color
                    
            ToolTipMDIconButton:
                id: wallet_menu
                size_hint: None, None
                pos_hint: {'right': 1, 'center_y': 0.5}
                tooltip_text: "Menu"
                icon: "menu"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.BLACK)
                on_release: root.menu_open()
                #pos_hint: {'x' : .95, 'center_y' : .5}
                    
        MDFloatLayout:
            MDBoxLayout:
                orientation: "vertical"
                size_hint_x: 0.5  
                pos_hint: {'center_x': 0.5, 'top': .925}  
                spacing: '40sp'
                Image:
                    id: qr
                    source: root.qr_address
                    pos_hint: {'x': 0, 'top': 1}
                    size_hint_y: .5
                RecycleView:
                    viewclass: 'RowContainer'
                    id: rv
                    RecycleBoxLayout:
                        default_size: None, sp(56)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        orientation: 'vertical'
                        spacing: '10sp'    
    ActionBar:
        background_normal: ''
        background_down: ''
        background_color: get_color_from_hex("#121212")
        ActionView:
            ActionPrevious:
                icon: "arrow-left-circle"
                title: 'Go Back'
                with_previous: True
                on_release: root.set_previous_screen() 

<SettingsScreen>
    name: "settings"
    MDBoxLayout:
        orientation: "vertical"
        padding: 50
        spacing: 10

        MDLabel:
            padding: 50
            font_name: "Roboto-Bold"
            text: "SETTINGS"
            font_size: "30sp"
            size_hint_y: .1
            pos_hint: { "center_x": .9, "top": .3}
            theme_text_color: "Custom"
            text_color: get_color_from_hex("#fcb711")
        MDLabel:
        
        #GridLayout:
        #    padding: 1
        #    cols: 2
        #    row_force_default: True
        #    row_default_height: 5

        #    MDLabel:
        #        font_name: "Roboto-Bold"
        #        text: "RPC"
        #        font_size: "20sp"
        #        size_hint_x: None
        #        width: sp(250)

        #    MDDropDownItem:
        #        id: rpc_drop_item
        #        text: root.get_config('rpc')
        #        on_release: root.rpc_menu.open()

        GridLayout:
            padding: 1
            cols: 2
            row_force_default: True
            row_default_height: 5

            MDLabel:
                font_name: "Roboto-Bold"
                text: "GRPC"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)

            MDDropDownItem:
                id: grpc_drop_item
                text: root.get_config('grpc')
                on_release: root.grpc_menu.open()

        GridLayout:
            padding: 1
            cols: 2
            row_force_default: True
            row_default_height: 5

            MDLabel:
                font_name: "Roboto-Bold"
                text: "API"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)

            MDDropDownItem:
                id: api_drop_item
                text: root.get_config('api')
                on_release: root.api_menu.open()

        GridLayout:
            padding: 1
            cols: 2
            row_force_default: True
            row_default_height: 5

            MDLabel:
                font_name: "Roboto-Bold"
                text: "MathNodes API"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)

            MDDropDownItem:
                id: mnapi_drop_item
                text: root.get_config('mnapi')
                on_release: root.mnapi_menu.open()
        
        GridLayout:
            padding: 1
            cols: 2
            row_force_default: True
            row_default_height: 5

            MDLabel:
                font_name: "Roboto-Bold"
                text: "Cache Server"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)

            MDDropDownItem:
                id: cache_drop_item
                text: root.get_config('cache')
                on_release: root.cache_menu.open()
                
        GridLayout:
            padding: 1
            cols: 2
            row_force_default: True
            row_default_height: 5

            MDLabel:
                font_name: "Roboto-Bold"
                text: "Default Gigabytes"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)

            MDDropDownItem:
                id: gb_drop_item
                text: root.get_config('gb')
                on_release: root.gb_menu.open()      

        GridLayout
            padding: 1
            rows: 1
            cols: 4
            row_force_default: True
            row_default_height: 5
            
            MDLabel:
                font_name: "Roboto-Bold"
                text: "Resolvers"
                font_size: "20sp"
                size_hint_x: None
                width: sp(250)
            
            MDDropDownItem:
                id: resolver1_drop_item
                text: root.get_config('resolver1')
                on_release: root.resolver1_menu.open()
            
            MDDropDownItem:
                id: resolver2_drop_item
                text: root.get_config('resolver2')
                on_release: root.resolver2_menu.open()
            
            MDDropDownItem:
                id: resolver3_drop_item
                text: root.get_config('resolver3')
                on_release: root.resolver3_menu.open()
                
        GridLayout
            padding: 1
            rows: 1
            cols: 1
            row_force_default: True
            row_default_height: 5
                    
            HyperlinkLabel:
                text: "Read more"
                url: "https://dvpn.cc/resolvers"
            
            
        MDRaisedButton:
            text: "SAVE"
            font_size: "18sp"
            pos_hint: { "center_x": .9, "top": .5}
            on_release: root.SaveOptions()   
             

<WalletRestore>:
    name: "walletrestore"
    title: "Wallet Create"
    ActionBar:
        background_normal: ''
        background_down: ''
        background_color: get_color_from_hex("#121212")
        ActionView:
            ActionPrevious:
                icon: "arrow-left-circle"
                title: 'Go Back'
                with_previous: True
                on_release: root.set_previous_screen() 
    
    
    ClickableTextFieldRoundSeed:
        id: seed
        size_hint_x: None
        width: "300sp"
        height: "300sp"
        hint_text: "Seed Phrase"
        pos_hint: {"center_x": .5, "center_y": .80}
        
    MDLabel:
        id: seed_hint
        text: "Leave blank if creating a new wallet"
        theme_text_color: "Custom"
        text_color: get_color_from_hex("#4a4545")
        pos_hint: {"x": .47, "center_y": .74}
        font_size: "12sp"
     
    ClickableTextFieldRoundName:
        id: name
        size_hint_x: None
        width: "300sp"
        height: "300sp"
        hint_text: "Wallet Name"
        pos_hint: {"center_x": .5, "center_y": .67}
        
    MDLabel:
        id: wallet_name_warning
        opacity: 0
        text: "You must give the wallet a name"
        theme_text_color: "Custom"
        text_color: get_color_from_hex("f42121")
        pos_hint: {"x": .47, "center_y": .61}
        font_size: "12sp"
        
    MDLabel:
        id: wallet_name_charset_warning
        opacity: 0
        text: "Sorry, your wallet name can contain only letters, digits and space"
        theme_text_color: "Custom"
        text_color: get_color_from_hex("f42121")
        pos_hint: {"x": .47, "center_y": .61}
        font_size: "12sp"
     
    ClickableTextFieldRoundPass:
        id: password
        size_hint_x: None
        width: "300sp"
        height: "300sp"
        hint_text: "Wallet Password"
        pos_hint: {"center_x": .5, "center_y": .55}
        MDLabel:
        
    MDLabel:
        id: wallet_password_warning
        opacity: 0
        text: "Must be at least 8 characters"
        theme_text_color: "Custom"
        text_color: get_color_from_hex("f42121")
        pos_hint: {"x": .47, "center_y": .49}
        font_size: "12sp"
        
    MDRaisedButton:
        id: restore_wallet_button
        text: "Create"
        pos_hint: {"center_x": .5, "center_y": .4}
        on_press: root.restore_wallet_from_seed_phrase()
    
    
    
<NodeRV>:
    key_viewclass: "viewclass"
    bar_width: sp(8)
    scroll_type: ["bars", "content"]
    canvas.before:
        Color:
            rgba: get_color_from_hex("#212021")
        Rectangle:
            pos: self.pos
            size: self.size
    RecycleBoxLayout:
        md_bg_color: get_color_from_hex("#121212")
        #cols: 1
        default_size: sp(75), sp(50)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        #orientation: 'lr-tb' 
        orientation: "vertical"
        spacing: 2
        #padding: 1,1,1,1

<NodeRV2>: 
    md_bg_color: get_color_from_hex("#121212")    
    size_hint: (1,1)       
    key_viewclass: "viewclass"
    #key_viewclass: "NodeAccordion"
    bar_width: sp(12)
    scroll_type: ["bars", "content"]
    canvas.before:
        Color:
            rgba: get_color_from_hex("#212021")
        Rectangle:
            pos: self.pos
            size: self.size
    RecycleGridLayout:
        id: grid
        md_bg_color: get_color_from_hex("#121212")
        cols:1
        default_size: sp(200), sp(50)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'lr-tb' 
        spacing: 5
        padding: 1,1,1,1
        
<NodeRVSub>: 
    md_bg_color: get_color_from_hex("#121212")    
    size_hint: (1,1)       
    #key_viewclass: "viewclass"
    key_viewclass: "NodeAccordion"
    bar_width: sp(12)
    scroll_type: ["bars", "content"]
    canvas.before:
        Color:
            rgba: get_color_from_hex("#212021")
        Rectangle:
            pos: self.pos
            size: self.size  
                       
<RecycleViewCountryRow>:
    size_hint_y: 1
    size_hint_x: .7
    #height: self.height
    #size: "50sp", "50sp"
    type_swipe: "hand"
    #pos_hint: {"center_x": .5, "center_y": .5}
    padding: 1,1
    border_radius: 20
    #radius: [10]
    num_text: ""
    country_text: " "
    source_image: " "
    on_press: root.switch_window(root.country_text)
    md_bg_color: get_color_from_hex("#121212")
    MDBoxLayout:
        DisplayPic:
            source: root.source_image
            elevation: sp(3)
            size_hint: None, None
            size: sp(45), sp(45)
            radius: sp(360)
            pos_hint: {'center_x': .12, 'center_y': .5}
            on_release: print("clicked")
        MDFloatLayout:
            MDLabel:
                text: root.country_text
                id: country
                theme_text_color: "Custom"
                font_style: "H6"
                font_size: sp(16)
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x" : .125, "top" : 1.20}
                #size_hint_x: None
            MDLabel:
                text: root.num_text
                id: country
                theme_text_color: "Custom"
                font_style: "H6"
                font_size: "12sp"
                text_color: get_color_from_hex("#ffffff")
                pos_hint: {"x" : .125, "top" : .80}
                #size_hint_x: None
                
<SubscriptionScreen>:
	size_hint_x: .99
    pos_hint: {"center_x": 0.5}
    MDGridLayout:
        rows: 3
        size_hint_x: 1
        MDGridLayout:
            cols: 7
            height: 25
            adaptive_height: True
            padding: [15, 25, 0, 25]
    
            MDLabel:
                text: "Moniker"
                bold: True
                size_hint_x: 2.5
                
    
            MDLabel:
                text: "Location"
                bold: True
                size_hint_x: 1.3
            
            MDLabel:
                text: "Protocol"
                bold: True
                size_hint_x: 1.5
    
            MDLabel:
                text: "Type"
                bold: True
                size_hint_x: 1.4
    
            MDLabel:
                text: "Expiration"
                bold: True
                size_hint_x: 1
            
            TooltipMDIconButton:
                icon: "earth"
                tooltip_text: "Map"
                size_hint_x: .25
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                on_release: root.set_previous_screen()
                
        MDGridLayout:
            cols: 1
            height: sp(25)
            adaptive_height: True
            padding: [15, 25, 0, 25]        
            MDLabel:
                height: sp(35)
                font_size: sp(13)
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.WHITE) 
                text: "To connect to one of your subscriptions, click on the desired subscription which will expand the details. This will also select the subscription. Then simply press connect."
        #MDGridLayout:
        #    cols: 1
        #    height: sp(25)
        #    adaptive_height: True
        #    padding: [15, 25, 0, 25]        
        #    MDLabel:
        #        height: sp(35)
        #        font_size: sp(14)
        #        theme_text_color: "Custom"
        #        text_color: get_color_from_hex(MeileColors.WHITE) 
        #        text: ""
        
        RecycleView:
            do_scroll_y: True
            size_hint_x: 1
            MDBoxLayout:
                size_hint_y: None
                size_hint_x: 1
                adaptive_height: True
    
                orientation: "vertical"
                padding: [10, 10, 10, 50]
                spacing: 10
                id: rv
<PlanScreen>:
    size_hint_x: .99
    pos_hint: {"center_x": 0.5}
    MDGridLayout:
        rows: 3
        size_hint_x: 1
        MDGridLayout:
            cols: 7
            height: 25
            adaptive_height: True
            padding: [15, 25, 0, 25]
    
            MDLabel:
                text: "Plan"
                bold: True
                size_hint_x: 2.9
                
    
            MDLabel:
                text: "Nodes"
                bold: True
                size_hint_x: 1.1
            
            MDLabel:
                text: "Countries"
                bold: True
                size_hint_x: 1.5
    
            MDLabel:
                text: "Cost"
                bold: True
                size_hint_x: 1.4
    
            MDLabel:
                text: 
                bold: True
                size_hint_x: 1
            
            TooltipMDIconButton:
                icon: "earth"
                tooltip_text: "Map"
                size_hint_x: .25
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                on_release: root.set_previous_screen()
                
        MDGridLayout:
            cols: 1
            height: sp(25)
            adaptive_height: True
            padding: [15, 25, 0, 25]        
            MDLabel:
                height: sp(35)
                font_size: sp(13)
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.WHITE) 
                text: "In order to use plans that you subscribe to, click on the subscribed plan to expand it. This will select the plan. Click 'filter nodes' to find the online nodes on the plan. They will be available in the countires on the left bar. Navigate to your desired node, click on it, and then press connect."

        #MDGridLayout:
        #    cols: 1
        #    height: sp(25)
        #    adaptive_height: True
        #    padding: [15, 25, 0, 25]        
        #    MDLabel:
        #        height: sp(35)
        #        font_size: sp(14)
        #        theme_text_color: "Custom"
        #        text_color: get_color_from_hex(MeileColors.WHITE) 
        #        text: ""
        
        
        RecycleView:
            do_scroll_y: True
            size_hint_x: 1
            MDBoxLayout:
                size_hint_y: None
                size_hint_x: 1
                adaptive_height: True
    
                orientation: "vertical"
                padding: [10, 10, 10, 50]
                spacing: 10
                id: rv   
        
<NodeScreen>:
	size_hint_x: .95
    pos_hint: {"center_x": 0.5}
    MDGridLayout:
        rows: 3
        size_hint_x: 1
    
        MDGridLayout:
            cols: 7
            height: 25
            adaptive_height: True
            padding: [15, 25, 0, 25]
    
            MDLabel:
                text: "Moniker"
                bold: True
                size_hint_x: 2.3
    
            MDLabel:
                text: "Location"
                bold: True
                size_hint_x: 1.7
    
            MDLabel:
                text: "Speed"
                bold: True
                size_hint_x: 2.2
    
            MDLabel:
                text: "Protocol"
                bold: True
                size_hint_x: 1.6
    
            MDLabel:
                text: "Type"
                bold: True
                size_hint_x: 1
            TooltipMDIconButton:
                icon: "earth"
                tooltip_text: "Map"
                size_hint_x: .25
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                on_release: root.set_previous_screen()
                #pos_hint: {"x" : .455, "top" : .40}
        NodeRV2:
            id: rv

<PlanRow>:
    rows: 2
    cols: 6
    AsyncImage:
        size_hint_x: .1
        width: 100
        source: root.logo_image
    MDLabel:
        padding: [10, 0, 0, 0]
        text: root.plan_name
        markup: True
        size_hint_x: 2.5
        theme_text_color: "Custom"
        font_style: "H6"
        font_size: sp(16)
        font_name: root.get_font()
        text_color: get_color_from_hex(MeileColors.MEILE)

    MDLabel:
        text: root.num_of_nodes
        markup: True
        size_hint_x: 1.4
        font_name: root.get_font()
    MDLabel:
        text: root.num_of_countries
        markup: True
        size_hint_x: 1.4
        font_name: root.get_font()

    MDLabel:
        text: root.cost
        markup: True
        size_hint_x: 1.8
        font_name: root.get_font()

    MDFlatButton:        
        #md_bg_color: get_color_from_hex("#121212")
        pos_hint: {'x' : .67, 'y': .275}
        size_hint_x: .5
        on_release: root.open_subscribe()
        Image:
            id: subscribe_button
            size_hint: 1.5,1.5
            source: root.get_button("subscribe")
        
            
    HSeparator:
    HSeparator:
    HSeparator:
    HSeparator:
    HSeparator:
    HSeparator:
            
<NodeRow>:
    rows: 2
    cols: 5
    MDLabel:
        padding: [10, 0, 0, 0]
        text: root.moniker
        markup: True
        size_hint_x: 2
        theme_text_color: "Custom"
        font_style: "H6"
        font_size: sp(16)
        font_name: root.get_font()
        text_color: get_color_from_hex(MeileColors.MEILE)

    MDLabel:
        text: root.location
        markup: True
        size_hint_x: 1
        font_name: root.get_font()
    MDLabel:
        text: root.protocol
        markup: True
        size_hint_x: 1
        font_name: root.get_font()

    MDLabel:
        text: root.node_type
        markup: True
        size_hint_x: 1
        font_name: root.get_font()

    MDLabel:
        text: root.expires
        markup: True
        size_hint_x: 1
        font_name: root.get_font()
        font_size: sp(11)
    HSeparator:
    HSeparator:
    HSeparator:
    HSeparator:
    HSeparator:
            
<PlanDetails>:
    rows: 3
    cols: 6
    height: 90

    MDLabel
        text: "[b]UUID[/b]"
        markup: True
        size_hint_x: 2
    MDLabel
        text: "[b]ID[/b]"
        markup: True
        
            
    MDLabel
        text: "[b]Expires[/b]"
        markup: True
        size_hint_x: 1.3
        
    MDLabel
        text: "[b]Deposit[/b]"
        markup: True    
        
    MDLabel
        text: "[b]Coin[/b]"
        markup: True
        
    TooltipMDIconButton:
        icon: "table-filter"
        tooltip_text: "Filter Nodes"
        size_hint_x: .25
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        on_release: root.filter_nodes()
    
    MDLabel
        text: root.uuid
        markup: True
        font_size: sp(10)
        size_hint_x: 2
    MDLabel
        text: root.id
        markup: True
        font_size: sp(10)
    MDLabel
        text: root.expires
        markup: True
        font_size: sp(11)
        size_hint_x: 1.3
    MDLabel
        text: root.deposit
        markup: True
        font_size: sp(11)
    MDLabel
        text: root.coin
        markup: True
        font_size: sp(11)
        
    MDLabel
    MDLabel
    MDLabel
    MDLabel
    MDLabel
    MDLabel
    
<NodeDetails>:
    rows: 2
    cols: 8
    height: 90

    MDLabel
        text: "[b]ID[/b]"
        markup: True
    MDLabel
        text: "[b]Consumed[/b]"
        markup: True
    MDLabel
        text: "[b]Allocated[/b]"
        markup: True    
    MDLabel
        text: "[b]Deposit[/b]"
        markup: True
    MDLabel
        text: "[b]Score[/b]"
        markup: True
    MDLabel
        text: "[b]Votes[/b]"
        markup: True
    MDLabel
        text: "[b]Formula[/b]"
        markup: True
    TooltipMDIconButton:
        icon: "arrow-u-left-top-bold"
        tooltip_text: "Unsubscribe"
        size_hint_x: .25
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        on_release: root.unsubscribe_from_node(root.sub_id)
    MDLabel
        text: root.sub_id
        markup: True
    MDLabel
        text: root.consumed
        markup: True
    MDLabel
        text: root.allocated
        markup: True
    MDLabel
        text: root.deposit
        markup: True
    MDLabel
        text: root.score
        markup: True
    MDLabel
        text: root.votes
        markup: True
    MDLabel
        text: root.formula
        markup: True
            
<NodeAccordion>:
    rows: 2
    md_bg_color: get_color_from_hex(MeileColors.DIALOG_BG_COLOR2)
    radius: [5, 5, 5, 5]

    height: 50
    adaptive_height: True

<PlanAccordion>:
    rows: 2
    #md_bg_color: get_color_from_hex("#1C1D1B")
    md_bg_color: get_color_from_hex(MeileColors.DIALOG_BG_COLOR2)
    radius: [5, 5, 5, 5]

    height: 50
    adaptive_height: True
    
    
<NodeCarousel>:
    name: "node_carousel"
    MDBoxLayout:
        orientation: "vertical"
        MDGridLayout:
            rows: 3
            cols: 2
            orientation: 'lr-tb'
            size_hint_y: .15
            MDLabel:
                text: root.moniker
                #size_hint_x: .9
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                font_size: sp(25)
                font_name: root.get_font()
            AnchorLayout:
                anchor_x: "right"
                TooltipMDIconButton:
                    icon: "server-network"
                    tooltip_text: "Servers"
                    #size_hint_x: .01
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                    on_press: 
                        self.on_leave()
                        root.switch_carousel()
            HSeparator:
            HSeparator:
            MDLabel:
                text: root.address
                size_hint_x: .95
                font_size: sp(11)
        MDFloatLayout
            size_hint_y: 1

            MDBoxLayout:
                orientation: "vertical"
                size_hint_x: .6
                size_hint_y: .95
                spacing: 30             
                MDBoxLayout:
                    size_hint_y: .125
                    MDGridLayout
                        cols: 2
                        
                        MDLabel:
                            text: "[b]Gigabyte Prices[/b]"
                            halign: "center"
                            markup: True
                        
                        MDLabel:
                            text: "[b]Hourly Prices[/b]"
                            halign: "center"
                            markup: True
                        
                        MDLabel:
                            text: root.gb_prices
                            halign: "center"
                            font_size: sp(12)
                        
                        MDLabel:
                            text: root.hr_prices
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]Bandwidth Down[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Bandwidth Up[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.download
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.upload
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]Connected Peers[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Max Peers[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.connected_peers
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.max_peers
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]Protocol[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Version[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.protocol
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.version
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]Handshake[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Health Check[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.handshake
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.health_check
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]ISP Type[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Formula[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.isp_type
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.node_formula
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .03
                    MDGridLayout
                        cols: 2
                        rows: 2
                        MDLabel:
                            text: "[b]Votes[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: "[b]Score[/b]"
                            halign: "center"
                            markup: True
                        MDLabel:
                            text: root.votes
                            halign: "center"
                            font_size: sp(12)
                        MDLabel:
                            text: root.score
                            halign: "center"
                            font_size: sp(12)
                MDBoxLayout:
                    size_hint_y: .1
                    
            MapView:
                id: mapview
                lat: 48.849943
                lon: 2.279793
                zoom: 8
                size_hint: .4, .6
                pos_hint: {"x": .575, "y": .4}
                
            MDLabel:
                text: root.location
                pos_hint: {"x" : .7, "y": -.125}
                markup: True
                    
            MDFlatButton:        
                md_bg_color: get_color_from_hex("#121212")
                pos_hint: {'x' : .67, 'y': .275}
                on_release: root.subscribe_to_node(root.gb_prices, root.hr_prices, root.address, root.moniker)
                Image:
                    id: subscribe_button
                    size_hint: 3,3
                    source: root.get_button("subscribe")
            
            MDFlatButton:        
                md_bg_color: get_color_from_hex("#121212")
                pos_hint: {'x' : .87, 'y': .275}
                on_release: root.get_realtime_of_node(root.address)
                Image:
                    id: realtime_button
                    size_hint: 3,3
                    source: root.get_button("info")
<Separator@Widget>:
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
<HSeparator@Separator>:
    size_hint_y: None
    height: sp(2)
    
<RowContainer@MDBoxLayout>:
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: '5sp'  # Adjust the padding as needed
    MDBoxLayout:
        size_hint_y: None
        height: '50sp'
        WalletCoinRow:
            logo: root.logo
            text: root.text
    
<WalletCoinRow>:
    border_radius: 50
    radius: [30]
    md_bg_color: get_color_from_hex("#000000")
    orientation: 'horizontal'
    size_hint_y: None
    height: '50sp'

    Image:
        source: root.logo
        size_hint_x: None
        width: '50sp'

    MDLabel:
        text: root.text
        valign: 'middle'
        halign: 'center'
        text_size: self.size
        theme_text_color: "Custom"
        text_color: get_color_from_hex(MeileColors.MEILE)
        
<RecycleViewRow>:
    size_hint_y: None
    #size: "180sp", "180sp"
    size: "180sp", "25sp"
    pos_hint: {"center_x": .5, "center_y": .5}
    orientation: "vertical"
    #padding: 10,10
    border_radius: 20
    radius: [10]
    md_bg_color: get_color_from_hex("#121212")
    moniker_text: "."
    country_text: "."
    price_text: "."
    hourly_price_text: "."
    address_text: "."
    protocol_text: "."
    isp_type_text: " "
    city_text: " "
    source_image: " "
    speed_image: " "
    speed_text: " "
    node_score: " "
    votes: " "
    city: " "
    icon: ""
    tooltip: ""
    healthcheck: ""
    healthchecktooltip: ""
    node_data: ""
    node_types: ""
    node_scores: ""
    ripple_behavior: True
    #on_press: root.subscribe_to_node(root.price_text, root.hourly_price_text, root.address_text, root.moniker_text)
    on_press: root.switch_to_node_carousel(root.node_data)
    MDGridLayout:
        cols: 5
        
        MDLabel:
            text: root.moniker_text
            theme_text_color: "Custom"
            font_style: "H6"
            font_size: "16sp"
            font_name: root.get_font()
            text_color: get_color_from_hex(MeileColors.MEILE)
            size_hint_x: 2
        MDLabel:    
            text: root.country_text
            theme_text_color: "Custom"
            font_style: "H6"
            font_size: "12sp"
            text_color: (1,1,1,1)  
            size_hint_x: 1
        MDLabel:
            text: root.speed_text
            theme_text_color: "Custom"
            markup: True
            font_name: root.get_font()
            font_size: "12sp"
            text_color: 1,1,1,1
            size_hint_x: 2
        MDLabel:
            text: root.protocol_text
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "12sp"
            text_color: get_color_from_hex("#ffffff")
            size_hint_x: 1
        MDLabel:
            text: root.isp_type_text
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "12sp"
            text_color: get_color_from_hex("#ffffff")
            size_hint_x: 1

<OnHoverMDRaisedButton>:
                   
<ClickableTextFieldRoundSeed>:
    size_hint_y: None
    height: seed_phrase.height

    MDTextField:
        id: seed_phrase
        multiline: True
        hint_text: root.hint_text
        text: root.text
        password: True
        icon_left: "key-variant"
        mode: "rectangle"

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .5}
        pos: seed_phrase.width - self.width + sp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            seed_phrase.password = False if seed_phrase.password is True else True


<ClickableTextFieldRoundName>:
    size_hint_y: None
    height: wallet_name.height

    MDTextField:
        id: wallet_name
        hint_text: root.hint_text
        text: root.text
        password: False
        icon_left: "key-variant"
        mode: "rectangle"

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .5}
        pos: wallet_name.width - self.width + sp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            wallet_name.password = False if wallet_name.password is True else True
            
<ClickableTextFieldRoundPass>:
    size_hint_y: None
    height: wallet_password.height

    MDTextField:
        id: wallet_password
        hint_text: root.hint_text
        text: root.text
        password: True
        icon_left: "key-variant"
        mode: "rectangle"

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .5}
        pos: wallet_password.width - self.width + sp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            wallet_password.password = False if wallet_password.password is True else True



<Tab>

<ConnectionDialog>
    size_hint_y: None
    orientation: "vertical"
    height: "30sp"  # Adjusted height for visibility
    padding: "10sp"
    spacing: "10sp"
    MDBoxLayout:
        orientation: "vertical"
        size_hint_y: None
        height: self.minimum_height
        MDLabel:
            id: status
            text: "Connecting..."
            halign: "center"  # Center align the text for better visibility
            size_hint_y: None
            height: self.texture_size[1] + sp(10)  # Ensure the label has a height
            
        MDProgressBar:
            id: pb
            value: 0.01
            min: 0
            max: 1
            color: get_color_from_hex(MeileColors.MEILE)
            size_hint_y: None
            height: "10sp"  # Set explicit height for the progress bar
            size_hint_x: .85
            pos_hint: {'center_x': .5}

<WalletInfoContent>
    orientation: "vertical"
    spacing: "15sp"
    size_hint_y: None
    height: "300sp"
    seed_phrase: ""
    wallet_address: ""
    wallet_password: ""
    wallet_name: ""
    padding: 0,10,0,10
    
    MDRelativeLayout:
        size_hint_y: None
        height: seed_phrase.height
        MDTextField:
            id: seed_phrase
            multiline: True
            hint_text: "Mnemonic Seed"
            text: root.seed_phrase
            readonly: True
            icon_left: "key-variant"
            password: True
            
        MDIconButton:
            icon: "eye-off"
            pos_hint: {"center_y": .5}
            pos: seed_phrase.width - self.width + sp(8), 0
            theme_text_color: "Hint"
            on_release:
                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                seed_phrase.password = False if seed_phrase.password is True else True
            
    MDBoxLayout:
        id: seed_box
        orientation: "horizontal"
        padding: 0,0,20,20
        spacing: "20sp"    
        MDRaisedButton:
            id: copy_seed_button
            text: "COPY SEED"
            font_size: sp(9)
            pos_hint: {"center_x": .1, "center_y": .5}
            on_press: root.copy_seed_phrase()
            size_hint: None, None
            size: 15,10
            
    MDTextField:
        hint_text: "Wallet"
        mode: "rectangle"
        text: root.wallet_name
        readonly: True
    
    MDTextField:
        hint_text: "Address"
        mode: "rectangle"
        text: root.wallet_address
        readonly: True
    
    MDTextField:
        hint_text: "Password"
        mode: "rectangle"
        text: root.wallet_password
        readonly: True

<SeedInfoContent>
    orientation: "vertical"
    spacing: "15sp"
    size_hint_y: None
    height: "150sp"
    seed_phrase: ""
    wallet_address: ""
    wallet_password: ""
    wallet_name: ""
    padding: 0,10,0,10
    
    MDRelativeLayout:
        size_hint_y: None
        height: seed_phrase.height
        MDTextField:
            id: seed_phrase
            multiline: True
            hint_text: "Mnemonic Seed"
            text: root.seed_phrase
            readonly: True
            icon_left: "key-variant"
            password: True 
        MDIconButton:
            icon: "eye-off"
            pos_hint: {"center_y": .5}
            pos: seed_phrase.width - self.width + sp(8), 0
            theme_text_color: "Hint"
            on_release:
                self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                seed_phrase.password = False if seed_phrase.password is True else True
                
    MDBoxLayout:
        id: seed_box
        orientation: "horizontal"
        padding: 0,0,20,20
        spacing: "20sp"    
        MDRaisedButton:
            id: copy_seed_button
            text: "COPY SEED"
            font_size: sp(9)
            pos_hint: {"center_x": .1, "center_y": .5}
            on_press: root.copy_seed_phrase()
            size_hint: None, None
            size: 15,10
            
<SubTypeDialog>
    orientation: "vertical"
    spacing: "1sp"
    size_hint_y: None
    height: "130sp"
    price_text: ""
    naddress: " "
    moniker: " "
    deposit: " "
    MDFloatLayout:
        MDLabel:
            id: sub_type
            text: "Subscription Type"
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "20sp"
            text_color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {"x" : 0, "top" : 1.35}
        MDLabel:
            id: bandwidth_text
            text: "Bandwidth (GB)"
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "14sp"
            text_color: get_color_from_hex("#ffffff")
            pos_hint: {"x" : 0, "top" : 1}        
        Check:
			on_active: root.select_sub_type(self, self.active, "gb")
            pos_hint: {"x": .5, "y" : .30}
        MDLabel:
            id: hourly_text
            text: "Hourly"
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "14sp"
            text_color: get_color_from_hex("#ffffff")
            pos_hint: {"x" : 0, "top" : .8}    
        Check:
			on_active: root.select_sub_type(self, self.active, "hourly")
            pos_hint: {"x": .5, "y" : .10}
                               
<SubscribeContent>
    orientation: "vertical"
    spacing: "1sp"
    size_hint_y: None
    height: "250sp"
    price_text: ""
    naddress: " "
    moniker: " "
    MDFloatLayout:
        MDLabel:
            id: moniker
            text: root.moniker
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "20sp"
            font_name: root.get_font()
            text_color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {"x" : 0, "top" : 1.35}
        MDLabel:
            id: moniker_text
            text: root.naddress
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "9sp"
            text_color: get_color_from_hex("#ffffff")
            pos_hint: {"x" : 0, "top" : 1}
    
    MDBoxLayout:
        orientation: "horizontal"
        MDSlider:
            
            id: slider1
            min: 1
            max: 314
            value: 34
            on_value: root.parse_coin_deposit(root.ids.drop_item.current_item)
            on_touch_move: root.get_usd()
            
        MDLabel:
            id: slider1_value
            text: str(int(slider1.value)) + root.return_sub_type()
            size_hint_x: None
            width: 75
    MDBoxLayout:
        orientation: "horizontal"
        spacing: 20
        
        MDTextField:
            id: deposit
            hint_text: "Deposit"
            mode: "fill"
            text: ""
            size_hint_y: .65
            readonly: True
        
        MDTextField:
            id: price
            hint_text: "Price"
            mode: "fill"
            text: root.price_text
            size_hint_y: .65
            readonly: True
            size_hint_x: .1
            opacity: 0
            
        MDDropDownItem:
            id: drop_item
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: "dvpn"
            on_release: root.menu.open()
            
        MDLabel:
            id: usd_price
            text: "$0.00"
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "14sp"
            font_name: root.get_font()
            text_color: get_color_from_hex(MeileColors.MEILE)
            
<PlanSubscribeContent>
    orientation: "vertical"
    spacing: "1sp"
    size_hint_y: None
    height: "300sp"
    price_text: ""

    white_label: " "
    nnodes: " "

    GridLayout:
        cols: 3
        padding: 0
        spacing: 10
        rows: 1

        AsyncImage:
            size_hint_x: None
            width: 100
            source: root.logo_image

        MDBoxLayout:
            orientation: "vertical"
            MDLabel:
                id: white_label_text
                text: root.white_label
                theme_text_color: "Custom"
                font_style: "Subtitle2"
                font_size: sp(20)
                text_color: get_color_from_hex(MeileColors.MEILE)
            MDLabel:
                id: nnodes_text
                text: root.nnodes + " Nodes"

        MDBoxLayout:
            orientation: "vertical"

            MDBoxLayout:
                orientation: "horizontal"
                Check:
                    on_active: root.on_checkbox_active("wallet", *args)
                MDLabel:
                    text: "Wallet"
                    size_hint: (None, 1.75)
                    font_size: sp(13)
                TooltipMDIconButton:
                    icon: "help-circle"
                    tooltip_text: "Pay with Wallet in DVPN or IBC enabled coins"

            MDBoxLayout:
                orientation: "horizontal"
                Check:
                    on_active: root.on_checkbox_active("btcpay", *args)
                MDLabel:
                    text: "BTCPay"
                    size_hint: (None, 1.75)
                    font_size: sp(13)
                TooltipMDIconButton:
                    icon: "help-circle"
                    tooltip_text: "Pay an invoice in BTC, BTC (lightning), XMR, LTC, DASH, or DOGE"

            MDBoxLayout:
                orientation: "horizontal"
                Check:
                    on_active: root.on_checkbox_active("now", *args)
                MDLabel:
                    text: "NOWPayments"
                    size_hint: (None, 1.75)
                    font_size: sp(13)
                TooltipMDIconButton:
                    icon: "help-circle"
                    tooltip_text: "Pay using FIRO,PIVX,ZEC,SOL with NOWPayments. User's browser will be opened to invoice."
                    
            MDBoxLayout:
                orientation: "horizontal"
                Check:
                    on_active: root.on_checkbox_active("pirate", *args)
                MDLabel:
                    text: "Pirate Chain"
                    size_hint: (None, 1.75)
                    width: sp(110)
                    font_size: sp(12)
                TooltipMDIconButton:
                    icon: "help-circle"
                    tooltip_text: "Pay using Pirate Chain (ARRR)."


    MDBoxLayout:
        orientation: "horizontal"
        MDSlider:
            id: slider1
            min: 1
            max: 12
            value: 2
            on_value: root.parse_coin_deposit(root.ids.drop_item.current_item)
            on_touch_move: root.get_usd(root.ids.drop_item.current_item)

        MDLabel:
            text: str(int(slider1.value)) + " Months"
            size_hint_x: None
            width: 90

    MDBoxLayout:
        orientation: "horizontal"
        size_hint_x: .8
        spacing: 20

        MDTextField:
            id: deposit
            hint_text: "Deposit"
            mode: "fill"
            text: ""
            size_hint_y: .65
            width: "50sp"
            height: "30sp"
            readonly: True

        MDTextField:
            id: price
            hint_text: "Price"
            mode: "fill"
            text: root.price_text
            size_hint_y: .65
            width: "50sp"
            height: "30sp"
            readonly: True

        MDDropDownItem:
            id: drop_item
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: "dvpn"
            on_release: root.menu.open()
            
        MDLabel:
            id: usd_price
            text: "$0.00"
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "14sp"
            font_name: root.get_font()
            text_color: get_color_from_hex(MeileColors.MEILE)
        
                   
<ProcessingSubDialog>
    orientation: "vertical"
    spacing: "1sp"
    size_hint_y: None
    height: "130sp"
    price_text: ""
    naddress: " "
    moniker: " "
    deposit: " "
    MDFloatLayout:
        MDLabel:
            id: moniker
            text: root.moniker
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "20sp"
            font_name: root.get_font()
            text_color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {"x" : 0, "top" : 1.35}
        MDLabel:
            id: naddress
            text: root.naddress
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "9sp"
            text_color: get_color_from_hex("#ffffff")
            pos_hint: {"x" : 0, "top" : 1.2}
        MDLabel:
            id: deposit
            text: root.deposit
            theme_text_color: "Custom"
            font_style: "Subtitle2"
            font_size: "18sp"
            text_color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {"x" : 0, "top" : .95}
    
<RatingContent>
    spacing: "1sp"
    size_hint_y: None
    height: "100sp"
    price_text: ""
    naddress: " "
    moniker: " "    
    orientation: "vertical"
    MDFloatLayout:
        MDLabel:
            id: node_moniker_text
            text: root.moniker
            font_name: root.get_font()
            font_size: sp(19)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(MeileColors.MEILE)
            pos_hint: {"x" : 0.05, "center_y": .9}
             
        MDLabel:
            id: node_addresss_text
            text: root.naddress
            font_size: sp(12)
            pos_hint: {"x" : 0.05, "center_y": .70}
             
        MDSlider:
            id: rating_slider
            min: 1
            max: 10
            value: 9
            pos_hint: {"x" : 0.00, "center_y": .5}
            
      
<HelpScreen>:
    name: "helpscreen"
    title: "Help Screen"
    ActionBar:
        background_normal: ''
        background_down: ''
        background_color: get_color_from_hex("#121212")
        ActionView:
            ActionPrevious:
                icon: "arrow-left-circle"
                title: 'Go Back'
                with_previous: True
                on_release: root.set_previous_screen() 
    
    MDBoxLayout:
        orientation: "vertical"
        size_hint: (1,1)
        MDLabel:
            font_name: "Roboto-Bold"
            text: "HELP SCREEN"
            font_size: "30sp"
            size_hint_y: None
            height: self.texture_size[1] + sp(20)
            #width: sp(500)
            #pos_hint: { "right": 1.5, "top": .9}
            theme_text_color: "Custom"
            text_color: get_color_from_hex(MeileColors.MEILE)
            halign: "center"
        MDLabel:
            font_name: "Roboto-Bold"
            text: root.GetMeileVersion(spec="V")
            font_size: "16sp"
            size_hint_y: None
            height: self.texture_size[1] + sp(20)
            #width: sp(500)
            #pos_hint: { "right": 1.425, "top": .85}
            theme_text_color: "Custom"
            text_color: get_color_from_hex(MeileColors.MEILE)
            halign: "center"
        MDLabel:
            font_name: "Roboto-Bold"
            text: "build: " + root.GetMeileVersion(spec="B")
            font_size: "13sp"
            size_hint_y: None
            height: self.texture_size[1] + sp(20)
            theme_text_color: "Custom"
            text_color: get_color_from_hex(MeileColors.MEILE)
            halign: "center"
        ScrollView:
            effect_cls: "ScrollEffect"
            scroll_type: ['bars']
            size_hint: (.9, 1)
            pos_hint: {"center_x": 0.5}
            height: self.parent.height
            MDGridLayout:
                rows: 27
                cols: 1
                size_hint_y: None
                size_hint_x: 1
                height: self.minimum_height
                spacing: "10sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "What is a mnemonic/seed phrase?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "A mnemonic/seed phrase is a set of pre-defined dictionary words that form a unique set. This unique set is used to generate a wallet with a unique address, similar to how bank accounts have a unique number. i.e., no two bank accounts have the same account number. This address can be used to send and receive currency just like your bank account."
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                    
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "What is an address?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "An address is a unique identifier that links your funds to the blockchain. This is a pseudonymous identifier meaning it links your digital identity on the blockchain without storing any personal identifiers of an individual. Addresses are used to send and receive funds in the native currency of the acting network. "
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "How do I receive funds to be able to subscribe and use Meile dVPN?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "There are two primary ways to receive tokens to purchase dVPN (the currency) subscriptions and utilize the network. 1.) You get the DVPN token on a exchange and send it to your wallet address. Current exchanges are KuCoin, HotBit, Polarity and Osmosis. Once you purchase the tokens on the exchange, you need to withdraw them to your address listed in the wallet section of this app. The tokens should appear within minutes after a withdrawal and you can begin purchasing and subscribing to Sentinel dVPN nodes through Meile. 2.) You can purchase the currency used for Meile dVPN right in our app via the 'RE-FUEL' button within the wallet. These funds will be handled by our servers and the payment processing is handled by Stripe. Once you successfully complete a purchase, your funds should appear in your wallet within minutes of a successful purchase through our app. This is the easiest method to using Meile dVPN."
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "What is MathNodes privacy policy?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "MathNodes uses Stripe to process payments in order to receive funds to use the dVPN. You will see that we do not even need the name of the individual. Once a payment is processed through Stripe, MathNodes stores only the payment_id received from Stripe, the address of your wallet, and the amount of tokens sent (1,000). We have to keep records some information in case there is a dispute and we need to query the orders and verify if tokens were sent to the recipient's address. We do not store your name, your credit card details, or any other information beside what we have mentioned. The full policy can be viewed at https://meile.app/policy"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "Why is a dVPN better than a tradiational VPN?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "A traditional VPN, like Nord, Norton, Cryptostorm, or Proton is a centralized set of servers that a user connects through to access the internet. Most VPNs are required to keep a degree of logging information about users. Centralized VPNs can terminate a user's plan or restrict access to the internet based on private, public, or governmental policy. A dVPN such as the one Meile offers, uses blockchain technologies via the Sentinel Network to ensure a decentralized structure. This means that the servers you connect through are run by a community of volunteers rather than a central authority. As such, no logging takes places, users don't have the ability to throttle or restrict traffic and no censorship is possible through the use of a dVPN."
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                    
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "Is there a refund policy?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "Absolutely no refunds under any circumstances. All token sales are final as they cannot be refunded due to the limitations of blockchain technology. If for some reason your credit card was charged for a token purchase, and you did not receive the tokens in your wallet, please reach out to us at support@mathnodes.com - We will advise you on how to produce evidences of your purchase and we may double check our records along with a block explorer to view if the transaction did not go through."
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "Search"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "Search must be done in the exact format - 'key: , value: ' filling in a text for both parameters. e.g: 'key: Moniker, value: Euler Product'. Please node this is case sensitive. "
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"    
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "Valid Search Keys"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "Moniker, Address, Price, Hourly Price, Country, City, Latitude, Longitude, Download, Upload, Peers, Max Peers, Handshake, Type, Version, ISP Type, Score, Votes, Formula"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "Valid Values"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "Value can be anything but must be something within the Node cards or the Node Carousel Screen (with the mini-map). This parameter is case sensitve."
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center" 
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"

                MDLabel:
                    font_name: "Roboto-BoldItalic"
                    text: "What is a Sentinel?"
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.MEILE)
                
                MDLabel:
                    font_name: "DejaVuSans"
                    text: "Sentinel is a Layer-1 blockchain within the Cosmos ecosystem. It was founded in 2017, and provides privacy services, such as decentralized VPN to users both of traditional commerce and blockchain enthusiasts. It's native coin ticker is $DVPN. "
                    size_hint_y: None
                    height: self.texture_size[1]
                    size_hint_x: 1
                    pos_hint_x: .9
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex(MeileColors.WHITE)
                    font_size: "12sp"
                
                MDBoxLayout:
                    size_hint_y: None
                    height: sp(48)  # Adjust height as needed
                    orientation: "vertical"
        
                    MDFlatButton:
                        text: "Read More"
                        size_hint_x: None
                        width: self.parent.width  # Full width of the parent (MDBoxLayout)
                        pos_hint: {'center_x': 0.5}
                        on_release: root.open_sentinel()   
                MDLabel:
                MDLabel:
                MDLabel:
                MDLabel:
                MDLabel:
                MDLabel:            
                    
<FiatInterface>:
    name: "fiatgateway"
    title: "Re-fuel"
    wallet_address: root.get_my_wallet_address()
    MDBoxLayout:
        orientation: "vertical"
        MDTopAppBar:
            id: toolbar
            title: "Wallet"
            md_bg_color: get_color_from_hex("#FFB908")
            height: "70sp"
            type: "top"
            padding: 0,20,0,0
            
            MDTextField:
                hint_text: "Address"
                mode: "fill"
                size_hint_x: .5
                pos_hint: {"center_x" : .5, "center_y": .5}
                text: root.wallet_address
                readonly: True
                opacity: 1
                theme_text_color: "Custom"
                text_color: get_color_from_hex("#000000")
                normal_color: app.theme_cls.accent_color
        MDFloatLayout:

            ClickableTextFieldRoundCC:
                id: ccnum
                size_hint_x: None
                width: "300sp"
                height: "300sp"
                hint_text: "Credit Card Number"
                pos_hint: {"center_x": .5, "center_y": .80}
         
            MDLabel:
                id: credit_card_number_warning
                opacity: 0
                text: "Sixteen digit number"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .47, "center_y": .74}
                font_size: "12sp"
             
            MDLabel:
                opacity: 1
                text: "Month"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .35, "center_y": .7}
                font_size: "12sp"
             
            MDDropDownItem:
                id: month_list
                pos_hint: {'center_x': .38, 'center_y': .67}
                text: '01'
                on_release: root.menu_month.open()
                
            MDLabel:
                opacity: 1
                text: "Year"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .45, "center_y": .7}
                font_size: "12sp"
            
            MDDropDownItem:
                id: year_list
                pos_hint: {'center_x': .48, 'center_y': .67}
                text: '2023'
                on_release: root.menu_year.open()
                
            ClickableTextFieldRoundCVV:
                id: cvvnum
                size_hint_x: None
                width: "100sp"
                height: "300sp"
                hint_text: "CVV"
                pos_hint: {"center_x": .6, "center_y": .69}
                
            MDLabel:
                id: cvv_code_warning
                opacity: 0
                text: "Wrong CVV. 3 or 4 digit code"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("f42121")
                pos_hint: {"x": .47, "center_y": .62}
                font_size: "12sp"
            
            MDLabel:
                opacity: 1
                text: "Coin"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .355, "center_y": .63}
                font_size: "12sp"
                    
            MDDropDownItem:
                id: token
                pos_hint: {"x": .355, "center_y": .60}
                text_color: get_color_from_hex(MeileColors.MEILE)
                text: 'dvpn'
                on_release: root.menu_token.open()
                      
            MDDropDownItem:
                id: dvpn_qty_menu
                pos_hint: {'center_x': .48, 'center_y': .60}
                text: '1000'
                on_release: root.menu_dvpn_qty.open()
                
            MDFloatLayout:
        
                Check:
                    on_active: root.terms_agreement(self.active)
                    pos_hint: {"x": .36, "center_y": .54}
                    color: get_color_from_hex(MeileColors.MEILE)
                    #size_hint: None, None
                    #size: sp(30), sp(30)
                MDLabel:
                    text: "I agree to the terms of the MathNodes purchasing policy."
                    font_size: 10
                    theme_text_color: "Custom"
                    text_color: get_color_from_hex("f42121")
                    pos_hint: {"x": .40, "center_y": .54}
                    
            MDLabel:
                id: dvpn_price
                text: "DVPN: $" + str(root.get_token_price('dvpn'))
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .40, "center_y": .48}
                font_size: "16sp"
                
            MDLabel:
                id: surcharge
                text: "Surcharge: $1.25"
                theme_text_color: "Custom"
                text_color: get_color_from_hex("ffffff")
                pos_hint: {"x": .40, "center_y": .43}
                font_size: "16sp"
            MDLabel:
                id: coin_qty
                text:"QTY: " + str(root.DVPNOptions[root.idvpn]) + " dvpn"
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .40, "center_y": .38}
                font_size: "16sp"
            
            MDLabel:
                id: charge_amount
                text:"Total Charge: $" + str(round((root.get_token_price('dvpn')*root.get_token_qty('dvpn'))+1.25,2))
                theme_text_color: "Custom"
                text_color: get_color_from_hex(MeileColors.MEILE)
                pos_hint: {"x": .40, "center_y": .33}
                font_size: "16sp"
                
            MDRaisedButton:
                id: restore_wallet_button
                text: "PURCHASE"
                pos_hint: {"center_x": .5, "center_y": .25}
                on_press: root.pay()
            
    ActionBar:
        background_normal: ''
        background_down: ''
        background_color: get_color_from_hex("#121212")
        ActionView:
            ActionPrevious:
                icon: "arrow-left-circle"
                title: 'Go Back'
                with_previous: True
                on_release: root.set_previous_screen() 
    
        
<ClickableTextFieldRoundCC>:
    size_hint_y: None
    height: ccnum.height

    MDTextField:
        id: ccnum
        hint_text: root.hint_text
        text: root.text
        password: True
        icon_left: "key-variant"
        mode: "rectangle"

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .5}
        pos: ccnum.width - self.width + sp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            ccnum.password = False if ccnum.password is True else True



<ClickableTextFieldRoundCVV>:
    size_hint_y: None
    height: cvvnum.height

    MDTextField:
        id: cvvnum
        hint_text: root.hint_text
        text: root.text
        password: True
        icon_left: "key-variant"
        mode: "rectangle"

    MDIconButton:
        icon: "eye-off"
        pos_hint: {"center_y": .5}
        pos: cvvnum.width - self.width + sp(8), 0
        theme_text_color: "Hint"
        on_release:
            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
            cvvnum.password = False if cvvnum.password is True else True

<IconListItem>
    IconLeftWidget:
        icon: root.icon

        
<TXContent>
    orientation: "vertical"
    spacing: "4sp"
    size_hint_y: None
    height: "130sp"
    MDTextField:
        id: message
        multiline: True
        hint_text: "Message"
        text: " "
        readonly: True
    MDTextField:
        id: txhash
        hint_text: "TX ID"
        mode: "rectangle"
        text: " "
        readonly: True
    MDLabel:
        text: "Please copy the TX ID and save it somewhere safely."
        font_size: "11sp"
   
<ContinentMap>:
    zoom: 3

<TooltipMDIconButton@MDIconButton+MDTooltip>

<Check@MDCheckbox>:
    group: 'group'
    size_hint: None, None
    size: sp(48), sp(48)
    
<HyperlinkLabel>:
    size_hint: None, None
    text_size: self.width, None
    halign: "center"
    valign: "middle"
    

<LoadingSpinner>:
    canvas.before:
        PushMatrix
        Rotate:
            angle: root.angle
            axis: 0, 0, 1
            origin: root.center
    canvas.after:
        PopMatrix

    Image:
        source: root.get_spinner_image()
        size_hint: None, None
        size: 40, 40
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        
<QRDialogContent>:
    orientation: 'vertical'
    spacing: "20dp"
    padding: "20dp"
    size_hint_y: None
    height: "400sp"

    Image:
        id: qr_img
        size_hint: None, None
        size: "192dp", "192dp"
        pos_hint: {'center_x': 0.5}

    MDTextField:
        id: zaddress_field
        hint_text: "Address"
        text: ''
        readonly: True
        selectable: True
        mode: "rectangle"

    MDTextField:
        id: price_field
        hint_text: "Amount"
        text: ''
        readonly: True
        selectable: True
        mode: "rectangle"
    MDLabel:
    	id: status
    	text: ""
	    theme_text_color: "Custom"
	    text_color: get_color_from_hex(MeileColors.MEILE)
	    font_size: "16sp"